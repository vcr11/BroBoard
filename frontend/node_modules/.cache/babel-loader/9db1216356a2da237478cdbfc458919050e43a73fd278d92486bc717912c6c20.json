{"ast":null,"code":"// frontend/src/api/api.js\n\nimport axios from 'axios';\nconst API = axios.create({\n  baseURL: 'http://localhost:5050/api'\n});\n\n// In App.js or a useEffect hook:\nuseEffect(() => {\n  const token = localStorage.getItem('broboard_token');\n  if (token) {\n    // Optionally decode and verify expiration\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    const isExpired = payload.exp * 1000 < Date.now();\n    if (isExpired) {\n      localStorage.removeItem('broboard_token');\n      navigate('/login');\n    }\n  }\n}, []);\nexport default API;","map":{"version":3,"names":["axios","API","create","baseURL","useEffect","token","localStorage","getItem","payload","JSON","parse","atob","split","isExpired","exp","Date","now","removeItem","navigate"],"sources":["/Users/chandrashekharvangala/broboard/frontend/src/api/api.js"],"sourcesContent":["// frontend/src/api/api.js\n\nimport axios from 'axios';\n\nconst API = axios.create({\n  baseURL: 'http://localhost:5050/api',\n});\n\n// In App.js or a useEffect hook:\nuseEffect(() => {\n  const token = localStorage.getItem('broboard_token');\n  if (token) {\n    // Optionally decode and verify expiration\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    const isExpired = payload.exp * 1000 < Date.now();\n    if (isExpired) {\n      localStorage.removeItem('broboard_token');\n      navigate('/login');\n    }\n  }\n}, []);\n\nexport default API;\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACAC,SAAS,CAAC,MAAM;EACd,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC;EACpD,IAAIF,KAAK,EAAE;IACT;IACA,MAAMG,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,MAAMC,SAAS,GAAGL,OAAO,CAACM,GAAG,GAAG,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IACjD,IAAIH,SAAS,EAAE;MACbP,YAAY,CAACW,UAAU,CAAC,gBAAgB,CAAC;MACzCC,QAAQ,CAAC,QAAQ,CAAC;IACpB;EACF;AACF,CAAC,EAAE,EAAE,CAAC;AAEN,eAAejB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}